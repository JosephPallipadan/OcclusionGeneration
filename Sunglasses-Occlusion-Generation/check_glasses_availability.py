import requests
import json
from os import error, listdir

glasses = [
    "rayban_aviator_or_vertFlash",
    "rayban_wayfarer_havane_vert",
    "rayban_wayfarer_denimOrange_orangeDegrade",
    "rayban_round_gun_vert",
    "rayban_aviator_gun_vert",
    "rayban_aviator_or_vert",
    "rayban_round_cuivre_pinkBrownDegrade",
    "rayban_erika_marronArgent_marronVioletDegrade",
    "rayban_clubround_noir_cuivre_flash",
    "rayban_cockpit_or_vert_classique",
    "rayban_justin_noir_rougeMirroir",
    "rayban_clubround_noir_vertClassique_g15",
    "rayban_boyfriend_noir_marron_degrade",
    "rayban_justin_marron_vertDegrade",
    "rayban_round_or_vert",
    "rayban_justin_noir_bleuMirroir",
    "rayban_clubround_havaneNoir_vertClassique_g15",
    "rayban_boyfriend_havane_marron_clair_degrade",
    "rayban_chris_gris_argent_argent_ mirroir",
    "rayban_new_wayfarer_havane_marron_clair_degrade",
    "rayban_predator_noir_gris_mirroir",
    "rayban_chris_noir_gun_bleu_ mirroir",
    "rayban_wayfarer_denimNoir_bleuMirroir",
    "rayban_clubmaster_noir_bleuGris",
    "rayban_wayfarer_denimBleuClair_bleuDegrade",
    "rayban_justin_gris_argentDegrade",
    "rayban_new_wayfarer_havane_marronClassique_g15",
    "rayban_predator_noir_vert_classique",
    "rayban_chris_havane_gun_vert_classique",
    "rayban_doubleBridge_bleu_gradient_flash",
    "rayban_andy_violet_violet_mirroir",
    "rayban_caravan_bronze_cuivre_bleu_miroir",
    "rayban_wayfarer_havane_marron",
    "rayban_clubmaster_havane_vert",
    "rayban_wayfarer_noir_vert",
    "rayban_clubmaster_noir_marronDegrade",
    "rayban_round_doubleBridge_argent_gradient_flash",
    "rayban_andy_bleu_bleu_mirroir",
    "rayban_caravan_bronze_cuivre_lilas_mirroir",
    "rayban_round_doubleBridge_or_marron_classique_b15",
    "rayban_andy_noir_vert_classique",
    "rayban_chris_noir_argent_gris_degrade",
    "rayban_round_or_marronClairDegrade",
    "rayban_justin_violet_violetMirroir",
    "rayban_clubround_havaneNoir_marronClassique_b15",
    "rayban_boyfriend_noir_gris_classique",
    "rayban_chris_bleu_argent_bleu_clair_degrade",
    "rayban_erika_havaneGun_marronDegrade",
    "rayban_clubround_bleu_argent_flash",
    "rayban_boyfriend_havane_gris_degrade_mirroir",
    "rayban_justin_noir_bleu",
    "rayban_new_wayfarer_noir_gris_bleu_degrade",
    "rayban_boyfriend_havane_marron_classique",
    "rayban_chris_noir_gun_argent_ mirroir",
    "rayban_wayfarer_biColorNoirJaune_jauneFlash",
    "rayban_justin_havane_gris",
    "rayban_new_wayfarer_havane_bleu_vert_degrade",
    "rayban_boyfriend_noir_gris_clair_degrade",
    "rayban_chris_orange_argent_rouge_ mirroir",
    "rayban_wayfarer_biColorNoirVert_vertFlash",
    "rayban_justin_noir_vert",
    "rayban_clubround_havane_vertClassique_g15",
    "rayban_clubmaster_havane_marronDegrade",
    "rayban_round_doubleBridge_cuivre_gradient_flash",
    "rayban_andy_havane_argent_flash",
    "rayban_caravan_bronze_cuivre_violet_mirroir",
    "rayban_wayfarer_havane_marronClairDegrade",
    "rayban_justin_noir_grisDegrade",
    "rayban_new_wayfarer_havane_vertClassique_g15",
    "rayban_andy_havane_bleu_flash",
    "rayban_chris_noir_gris_degrade",
    "rayban_wayfarer_noir_grisClairDegrade",
    "rayban_justin_havane_marronDegrade",
    "rayban_new_wayfarer_noir_vertClassique_g15",
    "rayban_caravan_or_vert_classique",
    "rayban_aviator_or_orangeFlash",
    "rayban_clubmasterFleck_havaneNoir_vert",
    "rayban_round_doubleBridge_or_vert_classique_g15",
    "rayban_andy_noir_bleu_mirroir",
    "rayban_caravan_or_vert_flash",
    "rayban_aviator_gun_argentFlash",
    "rayban_clubmaster_havaneNoir_bleuGris",
    "rayban_round_doubleBridge_noir_vert_classique_g15",
    "rayban_andy_marron_clair_vert_mirroir",
    "rayban_caravan_gun_vert_classique_2",
    "rayban_aviator_cuivre_bleuMirroir",
    "rayban_clubmaster_noir_grisDegrade",
    "rayban_round_doubleBridge_noir_bleu_gris_classique",
    "rayban_andy_marron_marron_degrade",
    "rayban_caravan_argent_argent_flash",
    "rayban_andy_havane_orange_flash",
    "rayban_chris_havane_marron_degrade",
    "rayban_boyfriend_noir_vert_classique",
    "rayban_chris_bleu_bleu_clair_degrade",
    "rayban_round_noir_bleuClairDegrade",
    "rayban_erika_noir_grisDegrade",
    "rayban_clubround_blanc_vert_mirroir",
    "rayban_boyfriend_noir_gris_degrade",
    "rayban_chris_violet_gun_gris_degrade",
    "rayban_round_cuivre_vertDegrade",
    "rayban_aviator_gun_gris",
    "rayban_clubmaster_noir_vert",
    "rayban_erika_or_marronDegrade",
    "rayban_ferrari_gris_noir_gris_mirror_chromance",
    "rayban_cockpit_noir_orange_gradient_flash",
    "rayban_erika_havaneGun_marronDegrade_1",
    "rayban_ferrari_noir_vert_classique",
    "rayban_cockpit_marron_clair_degrade",
    "rayban_aviator_or_marron",
    "rayban_round_cuivre_bleuMarronDegrade",
    "rayban_erika_havaneGun_vert",
    "rayban_ferrari_noir_argent_mirror_chromance",
    "rayban_cockpit_gun_vert_classique",
    "rayban_aviator_noir_vert",
    "rayban_round_or_vertFlash",
    "rayban_erika_noir_violetMirroir",
    "rayban_ferrari_blue_bleu_mirror_chromance",
    "rayban_cockpit_noir_vert_gradient_flash",
    "rayban_aviator_or_rose",
    "rayban_round_or_orangeFlash",
    "rayban_erika_noir_vert",
    "rayban_ferrari_noir_or_mirror_chromance",
    "rayban_cockpit_noir_bleu_gradient_flash",
    "rayban_round_gun_grisDegrade",
    "carrera_118S_black",
    "carrera_118S_black_gold_gray",
    "carrera_118S_havane_blue",
    "carrera_118S_blue_gray_degrade",
    "carrera_118S_havane_marron",
    "carrera_118S_black_green",
    "carrera_113S_gold_green",
    "carrera_113S_silver_silver_mirror",
    "carrera_113S_blue",
    "carrera_119S_havana_blue",
    "carrera_114S_black_brown",
    "carrera_116s_black_blue",
    "carrera_5029_black_green",
    "carrera_6008_black_brown",
    "carrera_113S_gold_black_red",
    "carrera_114S_blue_gray",
    "carrera_119S_blue_gray_gradient",
    "carrera_116s_black_brown_gradient",
    "carrera_5029_havana_brown_gradient",
    "carrera_113S_gold_brown",
    "carrera_119S_black_green",
    "carrera_116s_black_gray_gradient",
    "carrera_5003_havana_brown_flash_",
    "carrera_5029_havana_blue_1",
    "carrera_113S_gold_brown_gradient",
    "carrera_119S_black_gray",
    "carrera_116s_black_brown",
    "carrera_5003_gray_gray_gradient",
    "carrera_5029_havana_blue",
    "carrera_114S_black_gray_gradient",
    "carrera_119S_havana_brown",
    "carrera_116s_blue_gray",
    "carrera_5003_bleu_gris_flash",
    "carrera_6008_havane_green",
    "frogskins_black_brown",
    "flak_black_blue",
    "flak_white_blue",
    "latch_havana_green",
    "frogskins_black_gray",
    "flak_white_orange",
    "frogskins_transparent_blue",
    "flak_black_gray",
    "frogskins_green_brown",
    "latch_black_gray",
    "latch_black_blue",
    "holbrook_black_gray",
    "catalyst_black_orange",
    "catalyst_black_red",
    "catalyst_black_yellow_gray",
    "holbrook_black_bright_blue",
    "holbrook_black_purple",
    "latch_black_orange",
    "catalyst_gray_silver",
    "holbrook_black_blue",
    "oakley_radar_path_black_silver",
    "oakley_m2_black_gray",
    "oakley_jawbreak_black_pink",
    "oakley_radar_path_black_orange",
    "oakley_radar_path_black_blue_pink",
    "oakley_jawbreak_black_silver",
    "oakley_jawbreak_black_gray",
    "oakley_radar_path_black_pink",
    "oakley_m2_black_white_orange",
    "oakley_jawbreak_white_pink",
    "oakley_m2_black_red_pink",
    "aliexpress_cateye01_black_red",
    "aliexpress_cateye01_gold_silver",
    "aliexpress_thuglife_green",
    "aliexpress_steampunk_gold_blue_mirror",
    "aliexpress_steampunk_silver_silver",
    "aliexpress_steampunk_brass_gold",
    "aliexpress_wayfarer_style_brown_brown",
    "aliexpress_wayfarer_style_black_gold",
    "aliexpress_clubmaster_style_black_silver_clear",
    "aliexpress_clubmaster_style_white_brown",
    "aliexpress_cateye02_black_black",
    "aliexpress_polarsnow_black_silver",
    "aliexpress_veithdia_yellow",
    "aliexpress_cateye01_black_gray",
    "aliexpress_thuglife_blue",
    "aliexpress_steampunk_gold_pink",
    "aliexpress_steampunk_silver_black",
    "aliexpress_steampunk_black_black",
    "aliexpress_wayfarer_style_black_greeb",
    "aliexpress_wayfarer_style_transparent_orange",
    "aliexpress_clubmaster_style_black_silver_blue",
    "aliexpress_clubmaster_style_havane_brown",
    "aliexpress_clubmaster_style_havane_gold_brown",
    "aliexpress_cateye02_gold_brown",
    "aliexpress_veithdia_gray",
    "aliexpress_cateye01_black_blue",
    "aliexpress_thuglife_yellow",
    "aliexpress_steampunk_gold_black",
    "aliexpress_steampunk_gold_orange",
    "aliexpress_steampunk_black_red",
    "aliexpress_wayfarer_style_black_blue",
    "aliexpress_wayfarer_style_black_silver",
    "aliexpress_clubmaster_style_black_gold_gray",
    "aliexpress_clubmaster_style_cyan_silver_gray",
    "aliexpress_clubmaster_style_black_green_blue",
    "aliexpress_cateye02_gold_blue",
    "aliexpress_veithdia_gold",
    "aliexpress_cateye01_gold_gray",
    "aliexpress_cateye01_silver_silver",
    "aliexpress_thuglife_silver",
    "aliexpress_steampunk_gold_green_mirror",
    "aliexpress_steampunk_silver_red",
    "aliexpress_steampunk_brass_brown",
    "aliexpress_wayfarer_style_black_orange",
    "aliexpress_clubmaster_style_gold_black",
    "aliexpress_clubmaster_style_havane_gold_clear",
    "aliexpress_clubmaster_style_black_green",
    "aliexpress_cateye02_Gold_black",
    "aliexpress_veithdia_black",
    "aliexpress_veithdia_silver",
    "aliexpress_steampunk_gold_red",
    "aliexpress_steampunk_silver_blue_mirror",
    "aliexpress_thuglife_gray_black",
    "aliexpress_cateye01_gold_pink",
    "aliexpress_wayfarer_style_black_black",
    "aliexpress_clubmaster_style_silver_black",
    "aliexpress_wayfarer_style_mat_black_black",
    "aliexpress_steampunk_gold_clear",
    "aliexpress_clubmaster_style_black_orange",
    "aliexpress_clubmaster_style_havane_clear",
    "aliexpress_cateye02_gold_pink",
    "aliexpress_veithdia_blue",
    "mykita_black",
    "mykita_black_bronze gradient",
    "mykita_black_gold_green",
    "persol_PO0649_havana_green",
    "persol_PO0649_havana_brown",
    "persol_PO3105S_havana_blue",
    "persol_PO0714_havana_blue",
    "persol_PO0649_havana_blue",
    "persol_PO3105S_havana_green",
    "persol_PO3105S_black_green",
    "persol_PO0714_havana_green",
    "persol_PO0714_havana_brown",
    "thierry_lasry_black_grey",
    "smcc_SC0021S_black _hite",
    "dior_black_gold",
    "prada_black_gold",
    "gucci_black_havana",
    "burberry_brown",
    "gucci_havana_green",
    "smcc_SC0025S_pink_brown",
    "polaroid_6003_blue_grey",
    "polaroid_6003_black_grey",
    "polaroid_1013_black_grey",
    "polaroid_6009_black_gold",
    "polaroid_4005_havana_grey",
    "polaroid_6003_havana_brown",
    "polaroid_4023_black_green",
    "polaroid_7009_black_yellow_grey",
    "polaroid_1013_havana_green",
    "polaroid_6016_red_grey",
    "polaroid_6016_blue_grey",
    "polaroid_7009_black_red_grey",
    "polaroid_7009_black_grey",
    "polaroid_6009_black_blue",
    "polaroid_4005_black_grey",
    "polaroid_4023_havana_brown",
    "polaroid_4023_black_grey",
    "polaroid_6009_havana_orange",
    "polaroid_6016_black_grey",
    "marshal_noir_grisdegrade",
    "rayban_wayfarer_Jeeliz",
    "marshal_bronzecuivre_rosedegrade",
    "marshal_argent_bleudegrade",
    "marshal_noir_vertclassiqueG15",
    "marshal_or_bleuclairdegrade",
    "marshal_or_vertclassiqueg15",
    "marshal_gun_marrondegrademiroir",
    "blazeaviator_argent_vertmiroir",
    "Outdoorsman_noir_vertclassiqueG15",
    "blazeaviator_noir_grisdegrade",
    "blazeaviator_or_bleuclairdegrade",
    "Outdoorsman_or_marronb15",
    "blazeaviator_gun_marrondegrade",
    "blazeaviator_or_vertclassique",
    "blazeaviator_bronzecuivre_violetmiroir",
    "Outdoorsman_or_jauneambermatic",
    "blazeaviator_or_rosemiroir",
    "blaze_wayfarer_havane_marrondegrade",
    "blaze_wayfarer_bleu_bleudegrademiroir",
    "blaze_wayfarer_noir_vertclassique",
    "blaze_wayfarer_noir_grisdegrademiroir",
    "blaze_db_noir_grisdegrade",
    "blaze_round_or_rosemiroir",
    "blaze_round_gun_marrondegrade",
    "blaze_db_marron_rosemiroir",
    "blaze_round_bronze_rougedegrademiroir",
    "blaze_clubmaster_bronze_rougedegrademiroir",
    "blaze_clubmaster_bronze_violetmiroir",
    "blaze_hexagonal_noir_violetbleumiroir",
    "blaze_clubmaster_argent_vertargentmiroir",
    "blaze_clubmaster_gun_marrondegrade",
    "blaze_hexagonal_argent_vertargentmiroir",
    "blaze_round_noir_violetbleumiroir",
    "blaze_db_blanc_vertmiroir",
    "blaze_hexagonal_or_vertclassic",
    "blaze_hexagonal_or_rosemiroir",
    "blaze_db_transparent_vertclassic",
    "blaze_round_noir_grisdegrade",
    "blaze_round_bronze_violetmiroir",
    "blaze_clubmaster_bleu_orangemiroir",
    "blaze_hexagonal_bleu_orangemiroir",
    "blaze_clubmaster_or_vertclassic",
    "blaze_clubmaster_or_rosemiroir",
    "blaze_round_or_bleudegrademiroir",
    "blaze_clubmaster_or_bleudegrademiroir",
    "blaze_db_gris_violetmiroir",
    "blaze_round_bleu_orangemiroir",
    "blaze_round_argent_vertargentmiroir",
    "blaze_round_or_vertclassic",
    "blaze_db_havane_marrondegrade",
    "blaze_clubmaster_noir_grisdegrade",
    "blaze_clubmaster_noir_violetbleumiroir",
    "blaze_hexagonal_bronze_violetmiroir",
    "blaze_cateye_or_rosemiroir",
    "blaze_cateye_noir_violetbleumiroir",
    "blaze_cateye_bleu_orangemiroir",
    "blaze_shooter_argent_vertargentmiroir",
    "blaze_genral_argent_vertdegrademiroir",
    "blaze_shooter_or_vertclassic",
    "blaze_genral_bronze_rougedegrademiroir",
    "blaze_genral_noir_grisdegrade",
    "blaze_genral_gun_marrondegrade",
    "blaze_rb4380n_bleu_marrondegrade",
    "blaze_shooter_bleu_orangemiroir",
    "blaze_shooter_bronze_violetmiroir",
    "blaze_shooter_or_rosemiroir",
    "blaze_genral_or_bleudegrademiroir",
    "blaze_rb4380n_noir_vertclassic",
    "blaze_rb4380n_bleu_bleudegrademiroir",
    "blaze_genral_or_vertclassic",
    "blaze_rb4380n_noir_grisdegrademiroir",
    "blaze_cateye_or_vertclassic",
    "blaze_cateye_argent_vertargent",
    "blaze_shooter_noir_violetbleumiroir",
    "blaze_cateye_bronze_violetmiroir",
]


def get_responses():
    ans = {}
    errors = []
    for glass_string in glasses:
        glass_string = glass_string.replace(' ', '')
        print(f"Checking {glass_string}... ", end="")
        resp = requests.get(f'https://glassesdbcached.jeeliz.com/sku/{glass_string}')
        ans[glass_string] = resp.json()
        if 'error' in ans[glass_string]:
            errors.append(glass_string)
        print(f"Status Code: {resp.status_code}")

    with open("responses.json", "w") as outfile:
        json.dump(ans, outfile, indent=4)

    print(f"\n\n{'*' * 100}\n\n")
    print(errors)


def get_new_glasses_list():
    errors = set(['rayban_chris_gris_argent_argent_mirroir', 'rayban_chris_noir_gun_bleu_mirroir', 'rayban_chris_noir_gun_argent_mirroir',
              'rayban_chris_orange_argent_rouge_mirroir', 'mykita_black_bronzegradient', 'smcc_SC0021S_black_hite'])
    return [glass for glass in glasses if glass.replace(' ', '') not in errors]

print(get_new_glasses_list())
print(len(glasses), len(get_new_glasses_list()))